<div class="dialog-container">
    <div>
        <h2 class="dialog-title">{{ dialogTitle }} List</h2>
        <button mat-dialog-close class="btn-close" type="button">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>
    <div class="dialog-body">
        <div *ngIf="dialogName === 'category' || 'type'" class="add-container">
            <div *ngIf="!isEditing">
                <div *ngFor="let item of categories" class="item-box">
                    <div *ngIf="!item.isEditing" class="item">
                        <p>{{ item.name }}</p>
                        <div class="buttons-box">
                            <button class="btn-icon btn-icon-white" (click)="item.isEditing = !item.isEditing">
                                <i class="fa-regular fa-pen-to-square"></i>
                            </button>
                            <button class="btn-icon btn-icon-white btn-delete" (click)="deleteCategory(item.id)">
                                <i class="fa-regular fa-trash-can"></i>
                            </button>
                        </div>
                    </div>
                    <div *ngIf="item.isEditing" class="edit-input">
                        <input class="input" [value]="item.name" [placeholder]="'Enter ' + dialogName + ' name'"/>
                        <button class="btn-icon btn-icon-white save" (click)="editItem(dialogName, item.id)">
                            <i class="fa-regular fa-floppy-disk"></i>
                        </button>
                        <button class="btn-icon btn-icon-white cancel" type="button" (click)="item.isEditing = !item.isEditing">
                            <i class="fa-solid fa-xmark"></i>
                        </button>
                    </div> 
                </div>
                <h3>Add {{ dialogName }}</h3>
                <div class="add-input">
                    <input [formControl]="item" class="input input-accent-lined" [placeholder]="'Enter ' + dialogName + ' name'"/>
                    <button class="btn btn-accent" [disabled]="!item.value" (click)="addCategory()">
                        <i class="fa-solid fa-plus"></i>
                    </button>
                </div>
            </div>
            <form *ngIf="isEditing" [formGroup]="categoryForm" class="add-form">
                <h3>Add category type</h3>
                <select formControlName="name" class="select select-accent-lined">
                    <option value="" disabled hidden>Select category</option>
                    <option *ngFor="let category of categories" [value]="category.name">{{ category.name }}</option>
                </select>
                <input formControlName="typeName" class="input input-accent-lined" [placeholder]="'Enter type name'"/>
                <input formControlName="materials" class="input input-accent-lined" [placeholder]="'Enter materials'"/>
                <input formControlName="shapes" class="input input-accent-lined" [placeholder]="'Enter shapes'"/>
                <input formControlName="extras" class="input input-accent-lined" [placeholder]="'Enter extras'"/>
                <button class="btn btn-accent" [disabled]="this.categoryForm.invalid" (click)="addCategoryType()">Submit</button>
            </form>
        </div>
    </div>
</div>
